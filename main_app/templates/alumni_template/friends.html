{% extends 'alumni_template/base.html' %}
{% block title %}Friends - COSA{% endblock %}
{% block alumni_content %}
<section class="container">
  <div class="cosa-card">
    <h5 class="mb-3">My Friends</h5>
    <div id="friendsList" class="list-group"></div>
  </div>
</section>
<script>
document.addEventListener('DOMContentLoaded', function() {
  fetch('{% url "list_friends" %}')
    .then(r => r.json())
    .then(({results}) => {
      const list = document.getElementById('friendsList');
      list.innerHTML = results.map(u => (
        `<a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" href="mailto:${u.email}">
          <span class="fw-semibold">${u.name}</span>
          <small class="text-muted">${u.email}</small>
        </a>`
      )).join('') || '<div class="text-muted">No friends yet</div>';
    });
});
</script>
{% endblock %}


